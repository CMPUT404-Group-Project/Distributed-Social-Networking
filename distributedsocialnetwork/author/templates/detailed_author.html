{% extends 'base.html' %} 

{% block title %} {{ author.displayName }} {% endblock %}

{% block content %}

<div class="row">
  <div class="col-12">
    <!-- The Author information -->
    <h1>Profile</h1>
    <h3>Display Name: {{author.displayName}}</h3>
    <h3>First Name: {{author.first_name}}</h3>
    <h3>Last Name: {{author.last_name}}</h3>
    {% if author.github != ""%}
    <h3>GitHub: <a href="{{author.github}}">{{author.github}}</a></h3>
    {% endif %}
    <small>Last Online: {{author.last_login}} {{ relationship }}</small>
    <br>
    {% if friendrequest == "ENABLED" %}
    <!-- A form to send a friend request -->
    <form class='friendrequest-button' method="post">
      {% csrf_token %}
      <input type="hidden" name="authorID">
      <button type="submit" class="btn btn-primary">Send Friend Request</button>
    </form>
    {% elif friendrequest == "FOLLOWED" %}
    <!-- A form to accept a friend request -->
    <form class='friendrequest-button' method="post">
      {% csrf_token %}
      <input type="hidden" name="authorID">
      <button type="submit" class="btn btn-primary">Accept Friend Request</button>
    </form>
    {% elif friendrequest == "PENDING" %}
    <button class="btn btn-primary" disabled>Friend Request Pending</button>
    {% endif %}
  </div>
</div>
<div class="row mt-4">
  <div class="col-3 text-right">
    <h2>Posts:</h2>
  </div>
  <div class="col-9">
    {% for post in posts %}
    <a href="{{ post.source }}">
      <div class="row-12">
        <h4>{{ post.title }}</h4>
        <p class="small">{{ post.description }}</p>
      </div>
    </a>
    {% endfor %}
    {% if posts.count == 0 %}
      <h4>There are no posts available ðŸ˜ž</h4>
    {% endif %}
  </div>
</div>
{% endblock %}